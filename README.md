# Hippolytica: カバディ競技の映像解析による戦術定量化システム

## Computer Vision-Based Tactical Analysis System for Kabaddi

---

## なぜカバディを解析するのか

カバディは4億人が視聴するインドの国技でありながら、戦術分析の科学的蓄積が極めて乏しい。プロリーグ（Pro Kabaddi League）の年間視聴者数はIPLに次ぐ規模だが、「なぜあのレイドが成功したのか」「どのフォーメーションが有効なのか」といった問いに、データで答えられる環境がない。

本システムは、YouTube配信映像から選手の動きを自動追跡し、**勝利に直結する動作パターンを定量的に抽出する**。目指すのは以下の3つの変革だ：

1. **リアルタイム解説の高度化**: 生配信中に「このレイダーの加速度は平均より30%高い」「防御密度が低下している」といった客観的指標を提示し、観戦体験を深化させる
2. **育成の科学化**: インド代表選手の動作特徴量（速度・加速度・方向転換パターン）を定量化し、「世界トップはこう動く」という具体的な訓練目標を提供する
3. **戦術の民主化**: これまで経験則に頼っていたフォーメーション選択を、統計的根拠に基づいて最適化できるようにする

カバディは身体接触・瞬発力・戦術判断が高密度に凝縮された競技だ。その複雑さゆえに「見てもわからない」という障壁があるが、データがその壁を壊す。

---

## 本研究が解決する具体的問題

### 問題1: 「強いレイダー」の定義が曖昧
現状、レイダーの評価は「タッチポイント数」という結果指標のみ。しかし同じ5点でも、**相手防御が弱い試合での5点**と**密集防御を突破しての5点**では価値が異なる。

**本システムの解決策:**
- レイダーの瞬間加速度・最高速度・方向転換頻度を自動計測
- 相手防御密度（選手間距離）との相関を分析し、「高密度防御下での突破力」を定量評価
- 結果: 「このレイダーは加速度3.2m/s²で防御密度2.5m以下を突破できる」という具体的指標を提示

### 問題2: フォーメーションの効果が検証されていない
コーチの経験則で「このフォーメーションは守りやすい」と語られるが、実際の阻止率との相関は不明。

**本システムの解決策:**
- 全試合のフォーメーション配置を自動記録し、各配置パターンでのレイド阻止率を算出
- 情報理論（シャノンエントロピー）で配置の「予測困難性」を定量化
- 結果: 「選手間距離2.3m・エントロピー1.8の配置は阻止率68%」といった統計的根拠を提供

### 問題3: ラウンド間の連鎖効果が見過ごされている
「前ラウンドで成功したレイダーは次も成功しやすい」という仮説があるが、検証されていない。

**本システムの解決策:**
- 時系列モデル（LSTM）でラウンド間の依存関係を分析
- 条件付き確率 p(成功|前回成功) と p(成功|前回失敗) を比較
- 結果: 「連続成功時は次ラウンド成功率が+15%」といった連鎖効果を定量化し、交代タイミングの最適化に貢献

## Dockerによる実行例

### イメージのビルド
```bash
docker build -t hippolytica:latest .
```

### docker-composeでの実行（推奨）

1. 設定ファイルを作成：
```bash
copy .env.example .env
```

2. `.env`を編集して動画URLとパラメータを設定：
```env
VIDEO_URL=https://www.youtube.com/watch?v=cgIweXJ8QFI
SKIP_FRAMES=3
BATCH_SIZE=6
```

3. 実行：
```bash
docker-compose up
```

### 出力ファイル
処理が完了すると、`output/`フォルダにCSVファイルが生成されます。
